homeassistant:
  name: Home
  latitude: 42.422097
  longitude: -83.772937
  elevation: 283
  unit_system: imperial
  time_zone: America/New_York
  customize: !include customize.yaml
  auth_mfa_modules:  # Setup two factor auth
    - type: totp
      name: Authenticator app
    - type: notify
      message: 'Two Factor Code {}'
  
proximity:
  brett_home:
    ignored_zones:
      - Liz Work
      - Brett Work
      - Emi Daycare
    devices:
      - device_tracker.google_maps_116842525089175776476
    tolerance: 50
    unit_of_measurement: mi
  liz_home:
    ignored_zones:
      - Liz Work
      - Brett Work
      - Emi Daycare
    devices:
      - device_tracker.google_maps_108379141181739394475
    tolerance: 50
    unit_of_measurement: mi


http:
  server_port: 8123 # Hard set port
  trusted_networks: # Trust self and local IPs
    - 127.0.0.1
    - 192.168.1.0/24
  api_password: !secret HTTPPW
#  ssl_certificate: /ssl/fullchain.pem
#  ssl_key: /ssl/privkey.pem
#  base_url: !secret DYNSITE
  ip_ban_enabled: true # Allow bans
  login_attempts_threshold: 10 # Ban after 10 failed attempts
  
websocket_api:

alarm_control_panel:
  - platform: manual
    name: alarm_panel
    pending_time: 5
    code: !secret alarmcode

device_tracker:
  - platform: google_maps
    username: !secret DEVICE_USER
    password: !secret DEVICE_PW
    max_gps_accuracy: 100
  - platform: ping
    hosts:
      brettphone: 192.168.1.224

speedtestdotnet:
  scan_interval:
    minutes: 30
  monitored_conditions:
    - ping
    - download
    - upload

api:
alexa:
  smart_home:
    endpoint: https://api.amazonalexa.com/v3/events
    filter:
      include_domains:
        - light
        - switch
        - fan

google:
    client_id: !secret GOOGLE_ID
    client_secret: !secret GOOGLE_SECRET

# Enables the frontend
frontend:
  themes: !include themes.yaml
  
# Use lovelace config file  
lovelace:
  mode: yaml
  
# Enables configuration UI
config:

#Track the sun
sun:

updater:
  include_used_components: true

# Discover some devices automatically
discovery:

# Enables support for tracking state changes over time
history:

# View all events in a logbook
#logbook:

logger:
  default: warning
    
# Enables a map showing the location of tracked devices
map:

# Enable connection to MQTT server
mqtt:
  broker: 192.168.1.243
  username: firemogle
  password: !secret MQTTPW

amcrest:
  - host: 192.168.1.244
    username: !secret AMCREST_USER
    password: !secret AMCREST_PW
    stream_source: rtsp

nest:
  client_id: !secret NEST_ID
  client_secret: !secret NEST_SECRET

ecobee:
  api_key: !secret ECOBEE_KEY
  hold_temp: true
  
ring:
  username: !secret ring_UN
  password: !secret ring_PW
  
abode:
  username: !secret abode_username
  password: !secret abode_password
  name: Abode Alarm System
  polling: false
    
system_health: # load system health
stream: # Load streaming for videos
ffmpeg:

# Items loaded elsewhere
plant: !include_dir_merge_named plants/
lock: !include_dir_merge_list locks/
recorder: !include recorder.yaml
media_player: !include_dir_merge_list media_players/
person: !include_dir_merge_list people/
camera: !include_dir_merge_list cameras/
cover: !include_dir_merge_list covers/
sensor: !include_dir_merge_list sensors/
binary_sensor: !include_dir_merge_list binary_sensors/
light: !include_dir_merge_list lights/
switch: !include_dir_merge_list switch_dir/
group: !include groups.yaml
automation: !include_dir_merge_list automations/
script: !include_dir_merge_named scripts/
scene: !include_dir_merge_list scenes/
zone: !include_dir_merge_list zones/
input_number: !include input_number.yaml
fan: !include_dir_merge_list fans/
notify: !include notify.yaml
