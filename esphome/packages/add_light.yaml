light:
  - platform: neopixelbus
    variant: WS2811
    pin: ${pin}
    num_leds: ${length}
    type: ${color_line}
    name: ${name}
    id: ${name}
    effects:
      - addressable_fireworks:
          name: Fireworks
          update_interval: 32ms
          spark_probability: 75%
          use_random_color: true
          fade_out_rate: 125
      - addressable_twinkle:
          name: twinkle
          twinkle_probability: 10%
          progress_interval: 64ms
      - addressable_color_wipe:
          name: Christmas stripes
          colors:
            - red: 100%
              green: 0%
              blue: 0%
              num_leds: 50
            - red: 0%
              green: 100%
              blue: 0%
              num_leds: 50
          add_led_interval: 100ms
          reverse: False
      - addressable_color_wipe:
          name: Independence Day
          colors:
            - red: 100%
              green: 0%
              blue: 0%
              num_leds: 20
            - red: 100%
              green: 100%
              blue: 100%
              num_leds: 20
            - red: 0%
              green: 0%
              blue: 100%
              num_leds: 20
          add_led_interval: 33ms
          reverse: false
      - addressable_lambda:
          name: Blue Sparkle
          update_interval: 12ms
          lambda:
            static int state = 0;
      
            if (initial_run){
              state = 0;
      
              it.all() = ESPColor(0,0,255);
            } else {
      
              it.all() = ESPColor(0,0,255);
              for (int i = it.size() / 30; i > 0; i--) {
                int p = rand() % it.size();
                it[p] = ESPColor(255,255,255);
              }
            }
