- id: 'house_hvac_ena'
  alias: house_hvac_ena
  initial_state: 'off'
  trigger:
  - entity_id: binary_sensor.house_sts_hvac_run
    platform: state
  condition: []
  action:
  - data:
      entity_id: script.hvac_run_stop
    service: script.turn_on
    
- id: 'house_hvac_set'
  alias: house_hvac_set
  initial_state: 'off'
  trigger:
  - entity_id: binary_sensor.house_sts_dte_cheap
    platform: state
  - entity_id: binary_sensor.house_sts_guest
    platform: state
  - entity_id: binary_sensor.house_sts_vacation
    platform: state
  - entity_id: binary_sensor.house_sts_incoming
    platform: state
  condition: []
  action:
  - data:
      entity_id: script.hvac_run_setpoint
    service: script.turn_on
    
- id: humidifier_passive
  alias: humidifier_passive
  initial_state: 'off'
  trigger:
  - entity_id: binary_sensor.house_sts_hum_passive_run
    platform: state
  condition: []
  action:
  - data:
      entity_id: switch.humidifier
    service_template: >
      {% if is_state('binary_sensor.house_sts_hum_passive_run','on') %}
        switch.turn_on
      {% else %}
        switch.turn_off
      {% endif %}

- id: humidifier_active
  alias: humidifier_active
  initial_state: 'off'
  trigger:
  - entity_id: binary_sensor.house_sts_hum_active_req
    platform: state
  condition: []
  action:
  - data:
      entity_id: script.hvac_fan
    service: script.turn_on
